# logstalker_rails

`logstalker_rails` creates a new log file for Rails apps that `logstalker` can
easily parse & stream into BigQuery.

## Installation

To install, add it to your Gemfile:

    gem 'logstalker_rails', git: 'https://github.com/mjp/logstalker_rails.git'

## Usage

Logs will be placed in the `log/` directory, named `logstalker_production.log`.
It is recommended you setup log rotation on this file.

By default, Rails will continue logging requests in the normal log files. Since
the same information is being logged here, you can disable all request logging
by adding this into your `config/environments/production.rb` file:

    config.log_level = :fatal

## User Tracking

Sometimes it is helpful to view the logs generated by a specific user.

Log entries can be associated to a user ID, pulled from either a cookie or the
session. To configure logstalker to read the user ID value from a cookie, add
this to `config/application.rb`:

    config.x.logstalker.user_id_cookie = :your_user_id_cookie_name

To pull the user ID from a session, use this:

    config.x.logstalker.user_id_session = :your_user_id_session_key
